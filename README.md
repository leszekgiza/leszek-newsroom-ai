# Leszek Newsroom AI

AI-powered news aggregator with automatic summaries and text-to-speech.

## Features

- **Article Aggregation** - Scrape articles from multiple sources (blogs, newsletters)
- **AI Summaries** - 2-sentence intro + full summary generated by Claude AI
- **Text-to-Speech** - Listen to summaries with Edge TTS (Polish & English voices)
- **Full-Text Search** - PostgreSQL FTS with Polish language support
- **Catalog Sources** - Shared public sources (scraped once, visible to all subscribers)
- **Private Sources** - Per-user sources with auth (Gmail, LinkedIn, auth-required sites)
- **Save & Read Tracking** - Save articles for later, track read status

## Tech Stack

- **Frontend**: Next.js 14+ (App Router), Tailwind CSS, Zustand
- **Backend**: Next.js API Routes, Prisma 7, PostgreSQL
- **AI**: Claude API (Anthropic)
- **TTS**: Edge TTS (Microsoft)
- **Scraping**: Crawl4AI (Python, Docker)

## Getting Started

### Prerequisites

- Node.js 20+
- PostgreSQL 15+
- Docker (for Crawl4AI)

### Installation

```bash
# Clone repository
git clone https://github.com/leszekgiza/leszek-newsroom-ai.git
cd leszek-newsroom-ai

# Install dependencies
npm install

# Setup environment
cp .env.example .env
# Edit .env with your credentials
```

### Database Setup

```bash
# Run migrations
npm run db:migrate

# Seed with test data
npm run db:seed
```

### Development

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) in your browser.

### Test Credentials

After seeding:
- **Email**: test@example.com
- **Password**: Test123!

## Project Structure

```
src/
├── app/                    # Next.js App Router
│   ├── (auth)/            # Auth pages (login, register)
│   ├── (main)/            # Main app pages (home, saved, settings)
│   └── api/               # API routes
├── components/
│   ├── ui/                # Button, Input, Card, Modal, etc.
│   ├── layout/            # Navbar, BottomNav, SearchBar
│   ├── articles/          # ArticleCard, ArticleList, SourceFilter
│   └── summary/           # SummaryModal, TTSPlayer
├── hooks/                 # useArticles, useDebounce
├── stores/                # Zustand stores (auth, ui, player)
└── lib/                   # Prisma, auth utilities
```

## API Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/auth/register` | Register new user |
| POST | `/api/auth/login` | Login |
| POST | `/api/auth/logout` | Logout |
| GET | `/api/auth/me` | Current user |
| GET | `/api/articles` | User's feed |
| GET | `/api/articles/:id` | Article details |
| POST | `/api/articles/:id/read` | Mark as read |
| GET | `/api/saved` | Saved articles |
| POST | `/api/saved` | Toggle save |
| GET | `/api/sources/catalog` | Catalog sources |
| POST | `/api/sources/catalog/subscribe` | Subscribe to source |
| GET | `/api/sources/private` | User's private sources |
| POST | `/api/sources/private` | Add private source |
| POST | `/api/tts` | Generate TTS audio |
| GET | `/api/tts/voices` | Available voices |

## Scripts

```bash
npm run dev        # Development server
npm run build      # Production build
npm run start      # Start production server
npm run lint       # Run ESLint
npm run db:migrate # Run Prisma migrations
npm run db:push    # Push schema changes
npm run db:seed    # Seed database
npm run db:reset   # Reset database
```

## Documentation

- [Requirements](docs/requirements.md) - Functional requirements
- [High-Level Design](docs/hld.md) - Architecture overview
- [Low-Level Design](docs/lld.md) - Technical details, API specs
- [User Stories](docs/user-stories.md) - User scenarios

## Roadmap

### MVP (v1.0)
- [x] Authentication (register, login, logout)
- [x] Article feed with source filter
- [x] AI-generated intros and summaries
- [x] Text-to-Speech for summaries
- [x] Save articles for later
- [x] Full-text search (Polish)
- [x] Catalog vs Private sources architecture

### v1.1
- [ ] Crawl4AI integration for scraping
- [ ] Gmail integration (newsletters)
- [ ] LinkedIn integration (posts)
- [ ] Settings page implementation

### v2.0 (Future)
- [ ] Topic-based discovery
- [ ] Daily podcast generation
- [ ] AI voice chatbot (STT + TTS)

## License

Private project.
